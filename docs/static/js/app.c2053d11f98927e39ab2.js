webpackJsonp([1],{"+EMf":function(e,t,n){"use strict";function o(e){n("FH6h")}var s=n("cThJ"),a=n("yv55"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-4240990e",null);t.a=c.exports},"+h+e":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signon"},[n("div",{style:{backgroundColor:"rgb(200,200,200)"}},[n("h1",[e._v("\n      Sign On page\n    ")]),e._v(" "),n("div",[n("p",[e._v("\n      Test Button\n    ")]),e._v(" "),n("button",{on:{click:function(t){e.testButton()}}},[e._v("Test Button")])])]),e._v(" "),n("br"),n("br"),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[n("div",{style:{backgroundColor:"rgb(200,200,200)",paddingTop:"2%",paddingBottom:"2%"}},[n("h2",[e._v("\n        Welcome "+e._s(e.userName)+"!\n      ")]),e._v(" "),n("p",[e._v("\n        You are already signed in. If you would like you can sign out.\n      ")]),e._v(" "),n("button",{on:{click:function(t){e.signOut()}}},[e._v("Sign Out")])])]):e._e(),e._v(" "),null===e.userName&&null===e.userPass?n("div",[n("div",{style:{backgroundColor:"rgb(160,160,160)",paddingTop:"2%",paddingBottom:"2%"}},[n("div",[n("h2",[e._v("\n          Username:\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),n("br"),n("br"),e._v(" "),n("div",[n("h2",[e._v("\n          Password:\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("br"),n("br"),e._v(" "),n("div",[n("button",{on:{click:function(t){e.socketPush("login")}}},[e._v("Login")])]),e._v(" "),n("br"),n("br"),e._v(" "),n("div",[n("button",{on:{click:function(t){e.socketPush("signup")}}},[e._v("Sign Up")])])])]):e._e()])},s=[],a={render:o,staticRenderFns:s};t.a=a},"+vOg":function(e,t,n){"use strict";var o=n("mtWM");n.n(o)},"0bEL":function(e,t,n){"use strict";function o(e){n("cFaO")}var s=n("cWfL"),a=n("+h+e"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-a1d22fee",null);t.a=c.exports},"1v8+":function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("UeDw"),n("NYxO"));t.a={name:"KarmaHandler",computed:s()({},Object(i.c)(["userObj"])),props:[],data:function(){return{}},created:function(){},methods:{}}},"3txf":function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("UeDw")),r=n("NYxO");t.a={name:"InfoHandler",props:["submittingUser","articleTitle","articleURL","article","body","comment","upvotes","downvotes","flaggedcount","isArticleorComment","comment"],data:function(){return{localupvotes:null,localdownvotes:null,localflaggedcount:null}},created:function(){this.localupvotes=null===this.upvotes?0:this.upvotes,this.localdownvotes=null===this.downvotes?0:this.downvotes,this.localflaggedcount=null===this.flaggedcount?0:this.flaggedcount},computed:s()({},Object(r.c)(["userName","userPass"])),methods:{voteHandler:function(e){var t=void 0;"article"===this.isArticleorComment&&(t={aOrc:"a",type:e,article:this.article}),"comment"===this.isArticleorComment&&(t={aOrc:"c",type:e,comment:this.comment}),i.a.$emit("voted",t)}}}},"48sS":function(e,t){},"7I7X":function(e,t,n){"use strict";function o(e){n("cyRU")}var s=n("Bk09"),a=n("ZEJb"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-2ad8fc82",null);t.a=c.exports},"8P5x":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"infohandler",style:{borderWidth:"5px",borderStyle:"solid",borderColor:"black",padding:"5px",margin:"5px",backgroundColor:"rgb(200,200,200)"}},["article"===e.isArticleorComment?n("div",[n("h1",[e._v("\n      Article Title: "+e._s(e.articleTitle)+"\n    ")])]):e._e(),e._v(" "),"article"===e.isArticleorComment?n("div",[n("h2",[e._v("\n      Article URL: "+e._s(e.articleURL)+"\n    ")])]):e._e(),e._v(" "),"comment"===e.isArticleorComment?n("div",[n("h2",[e._v("\n      Comment Body\n    ")]),e._v(" "),n("h3",[e._v("\n      "+e._s(e.body)+"\n    ")])]):e._e(),e._v(" "),n("div",[n("h3",[e._v("\n      Submitting User: "+e._s(e.submittingUser)+"\n    ")])]),e._v(" "),n("div",{style:{display:"flex",flexDirection:"flex-row",width:"100%"}},[n("div",{style:{flex:"3"}}),e._v(" "),n("div",{style:{flex:"1"}},[n("h3",[e._v("\n        Upvotes: "+e._s(e.upvotes)+"\n      ")]),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[n("button",{on:{click:function(t){e.voteHandler("upvote")}}},[e._v("\n          Upvote!\n        ")])]):e._e()]),e._v(" "),n("div",{style:{flex:"1"}},[n("h3",[e._v("\n        Downvotes: "+e._s(e.downvotes)+"\n      ")]),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[n("button",{on:{click:function(t){e.voteHandler("downvote")}}},[e._v("\n          Downvote\n        ")])]):e._e()]),e._v(" "),n("div",{style:{flex:"1"}},[n("h3",[e._v("\n        Flagged Count: "+e._s(e.flaggedcount)+"\n      ")]),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[n("button",{on:{click:function(t){e.voteHandler("flagvote")}}},[e._v("\n          Downvote\n        ")])]):e._e()]),e._v(" "),n("div",{style:{flex:"3"}})]),e._v(" "),null==e.userName&&null==e.userPass?n("div",[n("h2",[e._v("\n      You are not allowed to vote unless you are logged in!\n    ")])]):e._e()])},s=[],a={render:o,staticRenderFns:s};t.a=a},AYsy:function(e,t,n){"use strict";var o=n("bOdI"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("mtWM")),r=(n.n(i),n("NYxO"),n("HQ/B")),c=n("UeDw");t.a={name:"Comments",props:["commentArticle","userPass","userName","handleCommentChannel","commentsList","articlesList","articleUpvotes","articleDownvotes","articleFlaggedCount"],components:{InfoHandler:r.a},data:function(){var e;return e={msg:"placeholder",message:"",postURL:null,postTitle:null,popArticle:!1},s()(e,"message",""),s()(e,"fullCommentsList",[]),s()(e,"fullArticlesList",[]),e},created:function(){var e={type:"created",id:this.commentArticle.article.id};this.handleCommentChannel(e),this.upvotes=this.articleUpvotes,this.downvotes=this.articleDownvotes,this.flaggedcount=this.articleFlaggedCount,this.fullCommentsList=this.commentArticle.comments||[],this.fullArticle=this.commentArticle.article||null,console.log("inside created and value of this.fullCommentsList - ",this.fullCommentsList)},destroyed:function(){var e={type:"destroyed",id:this.commentArticle.article.id};this.handleCommentChannel(e)},watch:{commentArticle:{handler:function(e,t){console.log("value of "),this.fullArticle=e.article}},commentsList:{handler:function(e,t){if(console.log("inside commentsList watcher"),e.length>this.fullCommentsList.length)console.log("in first if"),this.fullCommentsList.push(e[e.length-1]);else{var n=void 0,o=void 0,s=void 0,a=void 0;console.log("in first else"),e.length>1?(console.log("in second if"),this.fullCommentsList.forEach(function(t){e.forEach(function(e){e.id===t.id&&(o=e.upvotes,s=e.downvotes,a=e.flaggedcount,n=e.id)})})):(console.log("in second else"),this.fullCommentsList.forEach(function(t){e.id===t.id&&(o=e.upvotes,s=e.downvotes,a=e.flaggedcount,n=e.id)}));for(var i=0;i<this.fullCommentsList.length;i++)this.fullCommentsList[i].id===n&&(this.fullCommentsList[i].upvotes=o,this.fullCommentsList[i].downvotes=s,this.fullCommentsList[i].flaggedcount=a);console.log("value of this.fullCommentsList after: ",this.fullCommentsList)}},deep:!0}},methods:{goBack:function(){c.a.$emit("goBack","back from comments")},submitMsg:function(){var e={articleid:this.commentArticle.article.id,message:this.message,user:this.userName};console.log("inside submitMsg in Comments"),this.$parent.$emit("commentMessage",e)}}}},BNjT:function(e,t){},Bk09:function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("mtWM")),r=(n.n(i),n("NYxO")),c=n("Mp08"),l=n("HQ/B"),u=n("M0Y3"),m=n("UeDw");t.a={name:"Newsly",data:function(){return{msg:"placeholder",postURL:null,postTitle:null,popArticle:!1,message:"",showComments:!1,commentArticle:null,passedArticle:null,articleUpvotes:null,articleDownvotes:null,articleFlaggedCount:null,commentMessageWait:!1,tempComment:null}},components:{Comments:c.a,InfoHandler:l.a,ImageHandler:u.a},computed:s()({},Object(r.c)(["userName","userPass","userPic","userObj","userVotes","socket","channel","connectStatus","messages","returnmessage","articlesList","commentsList"])),created:function(){var e=this;this.connectSocket(),this.getArticles({});var t=this;m.a.$on("goBack",function(n){console.log("value of article :",t.article),e.showComments=!1}),this.$on("commentMessage",function(t){e.sendComment(t)}),m.a.$on("voted",function(t){"a"===t.aOrc?(console.log("value of payload in newsly voted: ",t),e.voteButtonA(t.type,t.article)):"c"===t.aOrc&&e.voteButtonC(t.type,t)})},destroyed:function(){m.a.$off(),this.$off()},methods:s()({},Object(r.b)(["socketConnect","channelPushArticle","getArticles","articleVote","commentVote","sendComment","handleCommentChannel","getArticleComments","getUserObj"]),{commentsGo:function(e){console.log("inside commentsGo, watchid: ",this.watchid),this.showComments=!0,this.commentArticle=e,this.getArticleComments({id:e.article.id}),this.articleUpvotes=e.article.upvotes,this.articleDownvotes=e.article.downvotes,this.articleFlaggedCount=e.article.flaggedcount},connectSocket:function(){this.socketConnect({connectStatus:this.connectStatus})},submitArticle:function(){null===this.postURL&&alert("Post URL cannot be blank!"),null===this.postTitle&&alert("Post Title cannot be blank!"),null!==this.postURL&&null!==this.postTitle&&(console.log("inside submitArticle and: "),console.log("value of username: ",this.userName),this.channelPushArticle({message:"newArticle",username:this.userName,password:this.userPass,articletitle:this.postTitle,articleurl:this.postURL}),this.postURL=null,this.postTitle=null,this.popArticle=!1)},voteButtonA:function(e,t){this.articleVote({type:e,article:t.article})},voteButtonC:function(e,t){console.log("inside voteButtonC"),this.commentVote({type:e,comment:t})}})}},FH6h:function(e,t){},"HQ/B":function(e,t,n){"use strict";function o(e){n("wCSe")}var s=n("3txf"),a=n("8P5x"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-22c46cb7",null);t.a=c.exports},IcnI:function(e,t,n){"use strict";var o=n("7+uW"),s=n("NYxO"),a=n("UjVw"),i=n("mUbh"),r=n("ukYY");o.a.use(s.a),console.log("inside the index/store file");var c={count:0,userPass:null,userName:null,userPic:null,connectStatus:!1,socket:null,channel:null,broadcastChannel:null,commentChannel:null,messages:[],returnmessage:"",articlesList:[],newarticlereturn:null,commentsList:[],userObj:null},l=new s.a.Store({state:c,getters:a,actions:i,mutations:r});t.a=l},KmWb:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Profile"},[n("br"),e._v(" "),n("div",{style:{backgroundColor:"rgb(200,200,200)",paddingTop:"2%",paddingBottom:"2%"}},[n("h1",[e._v("Profile")]),e._v(" "),n("h2",[e._v("\n      Not much here for now, but you can upload an image to be used on your avatar. Huzzah!\n    ")])]),e._v(" "),n("br"),e._v(" "),null!=e.userPic&&null===e.imageURL?n("div",[n("div",{style:{backgroundColor:"rgb(160,160,160)",paddingTop:"2%",paddingBottom:"2%"}},[n("h1",[e._v("\n        Here is your current profile pic. Updating the profile pic will overwrite this image!\n      ")]),e._v(" "),n("ImageHandler",{attrs:{imageURL:e.userPic,location:"profile"}})],1)]):e._e(),e._v(" "),n("br"),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[n("div",{style:{backgroundColor:"rgb(200,200,200)",paddingTop:"2%",paddingBottom:"2%"}},[null!==e.image?n("div",[n("h2",[e._v("\n          Here is the image you are going to upload:\n        ")]),e._v(" "),n("br"),n("br"),e._v(" "),n("ImageHandler",{attrs:{imageURL:e.image,location:"profile"}})],1):e._e(),e._v(" "),n("br"),n("br"),e._v(" "),n("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:e.onFileChange}}),e._v(" "),n("br"),n("br"),e._v(" "),n("button",{staticClass:"btn btn-success btn-block",on:{click:e.upload}},[e._v("Upload")]),e._v(" "),n("br"),n("br"),e._v(" "),n("h2",[e._v("\n        Once the image is uploaded to the database it should appear below:\n      ")]),e._v(" "),n("br"),n("br"),e._v(" "),null!==e.imageURL?n("div",[n("ImageHandler",{attrs:{imageURL:e.imageURL,location:"profile"}})],1):e._e()])]):e._e(),e._v(" "),null==e.userName&&null==e.userPass?n("div",[n("div",{style:{backgroundColor:"rgb(200,200,200)",paddingTop:"2%",paddingBottom:"2%"}},[n("h1",[e._v("\n        You must log in if you want to set a profile pic!\n      ")])])]):e._e()])},s=[],a={render:o,staticRenderFns:s};t.a=a},M0Y3:function(e,t,n){"use strict";function o(e){n("bdQ/")}var s=n("ua0+"),a=n("ZWo4"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-48858cec",null);t.a=c.exports},M93x:function(e,t,n){"use strict";function o(e){n("48sS")}var s=n("xJD8"),a=n("XDBU"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,null,null);t.a=c.exports},Mp08:function(e,t,n){"use strict";function o(e){n("REgO")}var s=n("AYsy"),a=n("yKsD"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-e3893d8c",null);t.a=c.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n("7+uW"),o=n("M93x"),s=n("IcnI"),a=n("YaEn");t.a.config.productionTip=!1;var i=new t.a({el:"#app",router:a.a,store:s.a,template:"<App/>",components:{App:o.a}});e.vm=i}.call(t,n("DuR2"))},REgO:function(e,t){},UeDw:function(e,t,n){"use strict";var o=n("7+uW"),s=new o.a;t.a=s},UjVw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"userName",function(){return o}),n.d(t,"userPass",function(){return s}),n.d(t,"userPic",function(){return a}),n.d(t,"userObj",function(){return i}),n.d(t,"socket",function(){return r}),n.d(t,"channel",function(){return c}),n.d(t,"connectStatus",function(){return l}),n.d(t,"messages",function(){return u}),n.d(t,"returnmessage",function(){return m}),n.d(t,"articlesList",function(){return d}),n.d(t,"commentsList",function(){return v}),console.log("inside the getters file");var o=function(e){return e.userName},s=function(e){return e.userPass},a=function(e){return e.userPic},i=function(e){return e.userObj},r=function(e){return e.socket},c=function(e){return e.channel},l=function(e){return e.connectStatus},u=function(e){return e.messages},m=function(e){return e.returnmessage},d=function(e){return e.articlesList},v=function(e){return e.commentsList}},XDBU:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"topbox",style:{fontSize:"4vh",display:"flex",flexDirection:"flex-row"}},[n("div",{style:{flex:"1"}}),e._v(" "),n("div",{style:{flex:"1"}},[n("router-link",{staticClass:"routerlink",style:{color:"newsly"===e.currentpage?"tomato":!0===e.barhover1?"red":"black"},attrs:{to:"/newsly"},nativeOn:{mouseover:function(t){e.barhover(1)},mouseleave:function(t){e.barleave(1)},click:function(t){e.setCurrentPage("newsly")}}},[e._v("Newsly")])],1),e._v(" "),n("div",{style:{flex:"1"}},[n("router-link",{staticClass:"routerlink",style:{color:"signon"===e.currentpage?"tomato":!0===e.barhover2?"red":"black"},attrs:{to:"/signon"},nativeOn:{mouseover:function(t){e.barhover(2)},mouseleave:function(t){e.barleave(2)},click:function(t){e.setCurrentPage("signon")}}},[e._v("Sign On")])],1),e._v(" "),n("div",{style:{flex:"1"}},[n("router-link",{staticClass:"routerlink",style:{color:"profile"===e.currentpage?"tomato":!0===e.barhover3?"red":"black"},attrs:{to:"/profile"},nativeOn:{mouseover:function(t){e.barhover(3)},mouseleave:function(t){e.barleave(3)},click:function(t){e.setCurrentPage("profile")}}},[e._v("Profile")])],1),e._v(" "),n("div",{style:{flex:"1"}})]),e._v(" "),n("div",{staticClass:"leftbox"},[n("LeftboxComponent")],1),e._v(" "),n("router-view",{staticClass:"contentbox"})],1)},s=[],a={render:o,staticRenderFns:s};t.a=a},YaEn:function(e,t,n){"use strict";var o=n("7+uW"),s=n("/ocq"),a=n("7I7X"),i=n("0bEL"),r=n("o9cx");o.a.use(s.a),t.a=new s.a({routes:[{path:"/",name:"Newsly",component:a.a},{path:"/newsly",name:"Newsly",component:a.a},{path:"/signon",name:"SignOn",component:i.a},{path:"/profile",name:"Profile",component:r.a}]})},ZEJb:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"newsly"},[!0!==e.showComments?n("div",[null===e.userName&&null===e.userPass?n("div",[n("div",{style:{backgroundColor:"rgb(200,200,200)"}},[n("h3",[e._v("\n          You must sign in to submit posts~\n        ")])])]):e._e(),e._v(" "),n("br"),n("br"),e._v(" "),null!==e.userName&&null!==e.userPass&&!1===e.popArticle?n("div",[n("button",{on:{click:function(t){e.popArticle=!0}}},[e._v("Submit New Article")])]):e._e(),e._v(" "),null!==e.userName&&null!==e.userPass&&!1!==e.popArticle?n("div",[n("div",{style:{backgroundColor:"rgb(160,160,160)",paddingTop:"2%",paddingBottom:"2%"}},[n("h3",[e._v("\n          Post Title:\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.postTitle,expression:"postTitle"}],attrs:{type:"text"},domProps:{value:e.postTitle},on:{input:function(t){t.target.composing||(e.postTitle=t.target.value)}}}),e._v(" "),n("h3",[e._v("\n          Post URL:\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.postURL,expression:"postURL"}],attrs:{type:"text"},domProps:{value:e.postURL},on:{input:function(t){t.target.composing||(e.postURL=t.target.value)}}}),e._v(" "),n("br"),n("br"),e._v(" "),n("button",{on:{click:function(t){e.submitArticle()}}},[e._v("Submit!")])])]):e._e()]):e._e(),e._v(" "),n("br"),n("br"),e._v(" "),!0!==e.showComments?n("div",e._l(e.articlesList,function(t){return n("div",[n("div",[n("InfoHandler",{attrs:{article:t,submittingUser:t.article.user,articleTitle:t.article.articletitle,articleURL:t.article.articleurl,upvotes:t.article.upvotes,downvotes:t.article.downvotes,flaggedcount:t.article.flaggedcount,isArticleorComment:"article"}}),e._v(" "),n("br"),e._v(" "),n("div",[n("button",{on:{click:function(n){e.commentsGo(t)}}},[e._v("Go to the Comments Section!")])])],1),e._v(" "),n("br"),n("br"),e._v(" "),n("br"),n("br")])})):e._e(),e._v(" "),n("br"),n("br"),e._v(" "),!0===e.showComments?n("div",[n("Comments",{attrs:{commentArticle:e.commentArticle,articlesList:e.articlesList,userName:e.userName,userPass:e.userPass,handleCommentChannel:e.handleCommentChannel,commentsList:e.commentsList,articleUpvotes:e.articleUpvotes,articleDownvotes:e.articleDownvotes,articleFlaggedCount:e.articleFlaggedCount}})],1):e._e()])},s=[],a={render:o,staticRenderFns:s};t.a=a},ZWo4:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"imagehandler"},["profile"===e.location?n("div",[n("div",{style:{paddingLeft:"30%",paddingRight:"20%",width:"100%"}},[n("div",{style:{borderWidth:"5px",borderStyle:"solid",borderColor:"black",padding:"5px",margin:"5px",backgroundColor:"skyblue",width:"40%"}},[e._m(0),e._v(" "),n("img",{style:{maxHeight:"200px",maxWidth:"200px"},attrs:{src:e.imageURL}})])])]):e._e(),e._v(" "),"leftbox"===e.location?n("div",[n("div",{style:{paddingLeft:"5%",paddingRight:"10%",width:"100%"}},[n("div",{style:{borderWidth:"5px",borderStyle:"solid",borderColor:"black",padding:"5px",margin:"5px",backgroundColor:"skyblue",width:"80%"}},[e._m(1),e._v(" "),n("img",{style:{maxHeight:"200px",maxWidth:"200px"},attrs:{src:e.imageURL}})])])]):e._e()])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("\n            Profile Pic ðŸ˜†ðŸ‘ðŸ™ŒðŸŽ‰ðŸ‘\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("\n              Profile Pic ðŸ˜†ðŸ‘ðŸ™ŒðŸŽ‰ðŸ‘\n            ")])])}],a={render:o,staticRenderFns:s};t.a=a},"bdQ/":function(e,t){},cFaO:function(e,t){},cThJ:function(e,t,n){"use strict";var o=n("2x5Y");n.n(o),n("UeDw");t.a={name:"HeaderHandler",props:[],data:function(){return{}},created:function(){},methods:{}}},cWfL:function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("mtWM")),r=(n.n(i),n("NYxO"));t.a={name:"SignOn",data:function(){return{msg:"placeholder",username:"",password:""}},created:function(){this.connectSocket()},computed:s()({},Object(r.c)(["userObj","userName","userPass","socket","channel","connectStatus","messages","returnmessage"])),watch:{returnmessage:{handler:function(e,t){e!==t&&("User added!"===this.returnmessage.msg||"password matches with database!"===this.returnmessage.msg?(console.log("success on watch!"),console.log("value of this: ",this),console.log("value of this.username: ",this.username),console.log("value of this.password: ",this.password),this.userObjnamepass({username:this.username,password:this.password}),null!=this.returnmessage.profileImageURL&&this.returnmessage.profileImageURL.length>10&&this.saveProfilePic({pic:this.returnmessage.profileImageURL}),this.getUserObj({username:this.userName,password:this.userPass}),this.username="",this.password=""):"condition nil (record DNE)"===this.returnmessage.msg?(alert("Username does not exist!"),this.username="",this.password=""):"password does not match database"===this.returnmessage.msg?(alert("Password incorrect!"),this.username="",this.password=""):"username exists in database"===this.returnmessage.msg&&(alert("Cannot add username "+this.username+"; already exists in database!"),this.username="",this.password=""))},deep:!0},userName:{handler:function(e,t){e!=t&&console.log("value of userName: ",e)}},userPass:{handler:function(e,t){e!=t&&console.log("value of userName: ",e)}}},methods:s()({},Object(r.b)(["socketConnect","channelPushLogin","saveProfilePic","getUserObj","userObjnamepass","testButtonAction"]),{connectSocket:function(){this.socketConnect({connectStatus:this.connectStatus})},socketPush:function(e){this.channelPushLogin({message:e,username:this.username,password:this.password})},signOut:function(){this.username=null,this.password=null,this.saveProfilePic({pic:null}),this.userObjnamepass({username:this.username,password:this.password})},testButton:function(){this.testButtonAction()}})}},cyRU:function(e,t){},dspI:function(e,t){},g3QD:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"karmahandler"},[null!=e.userObj?n("div",[n("div",[n("h1",[e._v("\n        Hi "+e._s(e.userObj.username)+"\n      ")]),e._v(" "),n("h1",[e._v("\n        Karma Breakdown\n      ")]),e._v(" "),n("h2",[e._v("\n        Upvotes: "+e._s(e.userObj.userupvotes)+"\n      ")]),e._v(" "),n("h2",[e._v("\n        Downvotes: "+e._s(e.userObj.userdownvotes)+"\n      ")]),e._v(" "),n("h2",[e._v("\n        Flagged: "+e._s(e.userObj.userflaggedcount)+"\n      ")])])]):e._e()])},s=[],a={render:o,staticRenderFns:s};t.a=a},gjC7:function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("UeDw"),n("NYxO")),r=n("+EMf"),c=n("vw57"),l=n("M0Y3");t.a={name:"LeftboxComponent",props:[],components:{HeaderHandler:r.a,KarmaHandler:c.a,ImageHandler:l.a},computed:s()({},Object(i.c)(["userPic","userName","userPass"])),data:function(){return{}},created:function(){},methods:{}}},mUbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"userObjnamepass",function(){return a}),n.d(t,"socketConnect",function(){return i}),n.d(t,"testButtonAction",function(){return r}),n.d(t,"channelPushLogin",function(){return c}),n.d(t,"channelPushArticle",function(){return l}),n.d(t,"getArticles",function(){return u}),n.d(t,"articleVote",function(){return m}),n.d(t,"commentVote",function(){return d}),n.d(t,"sendComment",function(){return v}),n.d(t,"handleCommentChannel",function(){return f}),n.d(t,"saveProfilePic",function(){return h}),n.d(t,"getUserObj",function(){return g}),n.d(t,"getArticleComments",function(){return p});var o=n("mtWM"),s=n.n(o),a=(n("+vOg"),n("IcnI"),function(e,t){(0,e.commit)("userObjnamepass",{username:t.username,password:t.password})}),i=function(e,t){var n=e.commit;!1===t.connectStatus&&n("socketConnect")},r=function(e){e.commit;console.log("inside testButtonAction in actions"),s.a.get("http://newslyproject2210.us-west-2.elasticbeanstalk.com:80/api/articles").then(function(e){console.log("response from api/articles: ",e)}).catch(function(e){console.log("PANIC ERROR IN api/articles : ",e)})},c=function(e,t){(0,e.commit)("channelPushLogin",{message:t.message,username:t.username,password:t.password})},l=function(e,t){(0,e.commit)("channelPushArticle",{message:t.message,username:t.username,password:t.password,articletitle:t.articletitle,articleurl:t.articleurl})},u=function(e){var t=e.commit;s.a.get("http://newslyproject2210.us-west-2.elasticbeanstalk.com:80/api/articles").then(function(e){t("updateArticles",{articlereturn:e.data})}).catch(function(e){})},m=function(e,t){(0,e.commit)("channelPushArticleVote",{type:t.type,article:t.article})},d=function(e,t){var n=e.commit,o=t.type,s=t.comment;console.log("inside commentVote"),console.log("value of comment: ",s),n("channelPushCommentVote",{type:o,comment:s})},v=function(e,t){(0,e.commit)("sendComment",{articleid:t.articleid,message:t.message,user:t.user})},f=function(e,t){(0,e.commit)("handleCommentChannel",{type:t.type,id:t.id})},h=function(e,t){(0,e.commit)("saveProfilePic",{pic:t.pic})},g=function(e,t){var n=e.commit,o=t.username,a=t.password;console.log("value of username: ",o),console.log("value of password: ",a),s.a.get("http://newslyproject2210.us-west-2.elasticbeanstalk.com:80/api/user",{params:{username:o,password:a}}).then(function(e){console.log("response from getUserObj: ",e);var t={userupvotes:e.data.userupvotes,userdownvotes:e.data.userdownvotes,userflaggedcount:e.data.userflaggedcount,username:e.data.username};n("getUserObj",{sanitizeduser:t})}).catch(function(e){console.log("PANIC ERROR IN getUserObj: ",e)})},p=function(e,t){var n=e.commit,o=t.id;s.a.get("http://newslyproject2210.us-west-2.elasticbeanstalk.com:80/api/articles/"+o).then(function(e){console.log("response from api/articles/id: ",e),n("updateComments",{comments:e.data.comments})}).catch(function(e){console.log("PANIC ERROR IN api/articles : ",e)})}},mtnR:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LeftboxComponent"},[n("HeaderHandler"),e._v(" "),null!==e.userName&&null!==e.userPass?n("div",[null!=e.userPic?n("div",[n("ImageHandler",{attrs:{imageURL:e.userPic,location:"leftbox"}})],1):e._e()]):e._e(),e._v(" "),n("br"),n("br"),e._v(" "),n("KarmaHandler")],1)},s=[],a={render:o,staticRenderFns:s};t.a=a},o9cx:function(e,t,n){"use strict";function o(e){n("BNjT")}var s=n("yoF/"),a=n("KmWb"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-49827e2c",null);t.a=c.exports},"ua0+":function(e,t,n){"use strict";var o=n("2x5Y");n.n(o),n("UeDw");t.a={name:"ImageHandler",props:["imageURL","location"],data:function(){return{paddingVar:null,widthVar:null}},created:function(){console.log("here is the value of location in ImageHandler: ",this.location)},methods:{}}},ukYY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"userObjnamepass",function(){return a}),n.d(t,"socketConnect",function(){return i}),n.d(t,"updateArticles",function(){return r}),n.d(t,"updateComments",function(){return c}),n.d(t,"channelPushLogin",function(){return l}),n.d(t,"channelPushArticle",function(){return u}),n.d(t,"channelPushArticleVote",function(){return m}),n.d(t,"channelPushCommentVote",function(){return d}),n.d(t,"sendComment",function(){return v}),n.d(t,"saveProfilePic",function(){return f}),n.d(t,"getUserObj",function(){return h}),n.d(t,"handleCommentChannel",function(){return g});var o=n("2x5Y"),s=(n.n(o),n("M4fF"));n.n(s);console.log("inside the mutations file");var a=function(e,t){var n=t.username,o=t.password;e.userPass=o,e.userName=n,null===n&&null===o&&(e.userObj=null)},i=function(e){e.connectStatus=!0,e.socket=new o.Socket("ws://newslyproject2210.us-west-2.elasticbeanstalk.com:80/socket",{params:{token:window.userToken}}),e.socket.connect(),e.channel=e.socket.channel("room:lobby",{}),e.broadcastChannel=e.socket.channel("room:broadcast",{}),e.channel.join().receive("ok",function(e){console.log("Joined channel successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e.broadcastChannel.join().receive("ok",function(e){console.log("Joined broadcastChannel successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e.channel.on("new_msg",function(t){t.received_at=Date(),e.messages.push(t)}),e.channel.on("signonreturn",function(t){e.returnmessage=t}),e.channel.on("newarticlereturn",function(t){e.newarticlereturn=t,"articletitle"in t&&"articleurl"in t&&e.broadcastChannel.push("broadcastArticles",{payload:e.newarticlereturn})}),e.channel.on("articleUpdateReturn",function(t){e.broadcastChannel.push("broadcastArticleVote",{payload:t})}),e.broadcastChannel.on("broadcastArticleReturn",function(t){console.log("inside state.broadcastChannel"),e.articlesList.push({article:t}),console.log("value of articlesList: ",e.articlesList)}),e.broadcastChannel.on("broadcastVoteReturn",function(t){var n=0,o=null,s=void 0,a=void 0,i=void 0;e.articlesList.forEach(function(e){e.article.id===t.payload.id&&(o=n,s=t.payload.upvotes,a=t.payload.downvotes,i=t.payload.flaggedcount),n+=1});var r=e.articlesList;console.log("value of temparticles: ",r),console.log("value of temparticles.article: ",r.article),r[o].article.upvotes=s,r[o].article.downvotes=a,r[o].article.flaggedcount=i,e.articlesList=r,t.sanitizeduser.username==e.userName&&(e.userObj=t.sanitizeduser)})},r=function(e,t){var n=t.articlereturn;e.articlesList=n},c=function(e,t){var n=t.comments;n.sort(function(e,t){return e.id-t.id}),e.commentsList=n},l=function(e,t){var n=t.message,o=t.username,s=t.password;e.channel.push(n,{username:o,password:s})},u=function(e,t){var n=t.message,o=t.username,s=t.password,a=t.articletitle,i=t.articleurl;e.channel.push(n,{username:o,password:s,articletitle:a,articleurl:i})},m=function(e,t){var n=t.type,o=t.article,s="article"+n;e.channel.push(s,{article:o})},d=function(e,t){var n=t.type,o=t.comment,s="comment"+n;console.log("inside channelPushCommentVote"),console.log("inside channelPushCommentVote, pushtype: ",s),e.commentChannel.push(s,{comment:o})},v=function(e,t){var n=t.articleid,o=t.message,s=t.user;console.log("inside sendcomment"),e.commentVoteChannel.push("addComment",{articleid:n,message:o,user:s})},f=function(e,t){var n=t.pic;e.userPic=n},h=function(e,t){var n=t.sanitizeduser;e.userObj=n},g=function(e,t){var n=t.type,o=t.id;console.log("inside handleCommentChannel");var s="room:commentsForArticleID"+o;e.commentChannel=e.socket.channel(s,{});var a="room:commentVotesForArticleID"+o;e.commentVoteChannel=e.socket.channel(a,{}),"created"===n?(e.commentChannel.join().receive("ok",function(e){console.log("Joined commentChannel successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e.commentVoteChannel.join().receive("ok",function(e){console.log("Joined commentChannel successfully",e)}).receive("error",function(e){console.log("Unable to join",e)})):"destroyed"===n&&(e.commentChannel.leave(),e.commentsList=[]),e.commentVoteChannel.on("broadcastCommentReturn",function(t){console.log("inside broadcastCommentReturn in mutations and payload returned: ",t),console.log("value of state.commentsList",e.commentsList);var n=e.commentsList;console.log("value of temparray: ",n),n.push(t),e.commentsList=n}),e.commentChannel.on("commentUpdateReturn",function(t){console.log("inside commentUpdateReturn"),e.broadcastChannel.push("broadcastCommentVote",{payload:t})}),e.broadcastChannel.on("broadcastCommentVote",function(t){var n=0,o=null;e.commentsList.length>1&&e.commentsList.forEach(function(e){e.id===t.payload.id&&(o=n),n+=1}),1===e.commentsList.length&&(o=0);var s=e.commentsList;s[o].upvotes=t.payload.upvotes,s[o].downvotes=t.payload.downvotes,s[o].flaggedcount=t.payload.flaggedcount,console.log("value of state.commentsList before assign in broadcastCommentVote: ",e.commentsList),console.log("value of updatedpayload.payload: ",t.payload),console.log("value of tempreplace after replaceindex in broadcastCommentVote: ",s),e.commentsList=s,t.sanitizeduser.username==e.userName&&(e.userObj=t.sanitizeduser)})}},vw57:function(e,t,n){"use strict";function o(e){n("dspI")}var s=n("1v8+"),a=n("g3QD"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-7c48c356",null);t.a=c.exports},wCSe:function(e,t){},"wW2/":function(e,t,n){"use strict";function o(e){n("y7Jp")}var s=n("gjC7"),a=n("mtnR"),i=n("VU/8"),r=o,c=i(s.a,a.a,!1,r,"data-v-03c488d9",null);t.a=c.exports},xJD8:function(e,t,n){"use strict";var o=n("wW2/");n("UeDw");t.a={name:"app",components:{LeftboxComponent:o.a},data:function(){return{currentpage:"newsly",barhover1:!1,barhover2:!1,barhover3:!1}},created:function(){},methods:{setCurrentPage:function(e){this.currentpage=e},barhover:function(e){1===e&&(this.barhover1=!0,this.barhover2=!1,this.barhover3=!1),2===e&&(this.barhover1=!1,this.barhover2=!0,this.barhover3=!1),3===e&&(this.barhover1=!1,this.barhover2=!1,this.barhover3=!0)},barleave:function(e){1===e&&(this.barhover1=!1),2===e&&(this.barhover2=!1),3===e&&(this.barhover3=!1)}}}},y7Jp:function(e,t){},yKsD:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comments"},[n("h1",[e._v("Comments Section")]),e._v(" "),n("InfoHandler",{attrs:{article:e.commentArticle,submittingUser:e.fullArticle.user,articleTitle:e.fullArticle.articletitle,articleURL:e.fullArticle.articleurl,upvotes:e.fullArticle.upvotes,downvotes:e.fullArticle.downvotes,flaggedcount:e.fullArticle.flaggedcount,isArticleorComment:"article"}}),e._v(" "),n("br"),n("br"),e._v(" "),n("div",{style:{width:"85%",backgroundColor:"rgb(180,180,180)",height:"20%",paddingLeft:"7.5%",paddingRight:"7.5%",paddingTop:"2%",paddingBottom:"2%"}},[null!==e.userName&&null!==e.userPass?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],style:{width:"100%",fontSize:"3vh"},attrs:{rows:"4",cols:"50"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),n("br"),n("br"),e._v(" "),n("button",{on:{click:function(t){e.submitMsg()}}},[e._v("Submit Comment")]),e._v(" "),n("button",{on:{click:function(t){e.goBack()}}},[e._v("Back to Article List")])]):e._e(),e._v(" "),null===e.userName&&null===e.userPass?n("div",[n("p",[e._v("\n        You must sign in to submit comments~\n      ")]),e._v(" "),n("br"),e._v(" "),n("button",{on:{click:function(t){e.goBack()}}},[e._v("Back to Article List")])]):e._e()]),e._v(" "),n("div",[n("h1",[e._v("\n      Here are the comments:\n    ")]),e._v(" "),e._l(e.fullCommentsList,function(e){return n("div",[n("InfoHandler",{attrs:{comment:e,submittingUser:e.user,commentID:e.id,body:e.body,articleid:e.article_id,upvotes:e.upvotes,downvotes:e.downvotes,flaggedcount:e.flaggedcount,isArticleorComment:"comment"}})],1)})],2)],1)},s=[],a={render:o,staticRenderFns:s};t.a=a},"yoF/":function(e,t,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("2x5Y"),i=(n.n(a),n("mtWM")),r=n.n(i),c=n("NYxO"),l=(n("Mp08"),n("HQ/B"),n("M0Y3"));n("UeDw");t.a={name:"Profile",data:function(){return{image:null,sendimage:"",imageURL:null}},components:{ImageHandler:l.a},computed:s()({},Object(c.c)(["userName","userPass","userPic"])),created:function(){},methods:s()({},Object(c.b)(["saveProfilePic"]),{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createImage(t[0])},createImage:function(e){var t=new FileReader,n=this;t.onload=function(e){n.image=e.target.result,n.sendimage=n.image.substr(n.image.indexOf(",")+1),console.log("value of sendimage; ",n.sendimage)},t.readAsDataURL(e)},upload:function(){var e=this;r.a.post("http://newslyproject2210.us-west-2.elasticbeanstalk.com:80/api/upload",{image:this.sendimage,username:this.userName,password:this.userPass}).then(function(t){console.log("value from response: ",t),console.log("value of response.data.url: ",t.data.url),e.imageURL=t.data.url,console.log("value of this.returnedimage: ",e.imageURL),e.saveProfilePic({pic:e.imageURL})}).catch(function(e){console.log("value from error ",e)})}})}},yv55:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"headerhandler"},[n("div",{style:{fontSize:"4vh"}},[n("p",[e._v("\n      Newsly\n    ")])])])},s=[],a={render:o,staticRenderFns:s};t.a=a}},["NHnr"]);
//# sourceMappingURL=app.c2053d11f98927e39ab2.js.map